platform: linux
image_resource:
  type: docker-image
  source: { repository: "quay.io/markus/demo-build", tag: "golang-1.10-alpine" }

inputs:
- { name: "demo", path: go }

run:
  path: sh
  dir: go
  args:
    - -xc
    - |
      go generate ./src/demo
      go test ./...
